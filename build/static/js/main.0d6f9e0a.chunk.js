(this["webpackJsonpreact-grocery-cart"]=this["webpackJsonpreact-grocery-cart"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"products":[{"_id":"item1","title":"Oreo","image":"/images/img1.jpg","Description":"Biscuit","price":20,"Category":"Biscuit"},{"_id":"item2","title":"Kisses","image":"/images/img2.jpg","Description":"Kisses","price":100,"Category":"Chocolate"},{"_id":"item3","title":"Kitkat","image":"/images/img5.jpg","Description":"Kitkat","price":15,"Category":"Chocolate"},{"_id":"item4","title":"Milk","image":"/images/img3.jpg","Description":"Milk","price":22,"Category":"Milk"},{"_id":"item5","title":"Eggs","image":"/images/img4.jpg","Description":"Eggs","price":154,"Category":"Eggs"},{"_id":"item6","title":"Eggs","image":"/images/img7.jpg","Description":"Eggs","price":150,"Category":"Eggs"},{"_id":"item7","title":"Bourvita","image":"/images/img6.jpg","Description":"Bourvita","price":150,"Category":"Beverage"}]}')},34:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var r=c(1),s=c.n(r),i=c(8),a=c.n(i),n=(c(34),c(16)),o=c(2),l=c(3),d=c(5),j=c(4),u=c(12);function h(e){return"Rs. "+Number(e.toFixed(1)).toLocaleString()}var p=c(9),m=c.n(p),b=c(24),O=c.n(b),g=c(25),x=c.n(g),v=c(11),f=c(19),C=c.n(f),N=c(28),y="FETCH_PRODUCTS",_=c(0),k=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){var r;return Object(o.a)(this,c),(r=t.call(this,e)).openModal=function(e){r.setState({product:e})},r.closeModal=function(){r.setState({product:null})},r.state={product:null},r}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.state.product;return Object(_.jsxs)("div",{children:[Object(_.jsx)(m.a,{bottom:!0,cascade:!0,children:this.props.products?Object(_.jsx)("ul",{className:"products",children:this.props.products.map((function(t){return Object(_.jsx)("li",{children:Object(_.jsxs)("div",{className:"product",children:[Object(_.jsxs)("a",{href:"#"+t._id,onClick:function(){return e.openModal(t)},children:[Object(_.jsx)("img",{src:t.image,alt:t.title}),Object(_.jsx)("p",{children:t.title})]}),Object(_.jsxs)("div",{className:"product-price",children:[Object(_.jsx)("div",{children:h(t.price)}),Object(_.jsx)("button",{onClick:function(){return e.props.addToCart(t)},className:"button primary",children:"Add To Cart"})]})]})},t._id)}))}):Object(_.jsx)("div",{children:"Loading..."})}),t&&Object(_.jsx)(O.a,{isOpen:!0,onRequestClose:this.closeModal,children:Object(_.jsxs)(x.a,{children:[Object(_.jsx)("button",{className:"close-modal",onClick:this.closeModal,children:"x"}),Object(_.jsxs)("div",{className:"product-details",children:[Object(_.jsx)("img",{src:t.image,alt:t.title}),Object(_.jsxs)("div",{className:"product-details-description",children:[Object(_.jsx)("p",{children:Object(_.jsx)("strong",{children:t.title})}),Object(_.jsx)("p",{children:t.description}),Object(_.jsxs)("p",{children:["Category:"," ",t.Category]}),Object(_.jsxs)("div",{className:"product-price",children:[Object(_.jsx)("div",{children:h(t.price)}),Object(_.jsx)("button",{className:"button primary",onClick:function(){e.props.addToCart(t),e.closeModal()},children:"Add To Cart"})]})]})]})]})})]})}}]),c}(r.Component),I=Object(v.b)((function(e){return{products:e.products.items}}),{fetchProducts:function(){return function(){var e=Object(N.a)(C.a.mark((function e(t){var c,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,console.log(r),t({type:y,payload:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(k),S=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"filter",children:[Object(_.jsxs)("div",{className:"filter-result",children:[this.props.count," Products"]}),Object(_.jsxs)("div",{className:"filter-sort",children:["Order "," ",Object(_.jsxs)("select",{value:this.props.sort,onChange:this.props.sortProducts,children:[Object(_.jsx)("option",{value:"lowest",children:"Lowest"}),Object(_.jsx)("option",{value:"highest",children:"Highest"})]})]}),Object(_.jsxs)("div",{className:"filter-size",children:["Filter"," ",Object(_.jsxs)("select",{value:this.props.size,onChange:this.props.filterProducts,children:[Object(_.jsx)("option",{value:"",children:" ALL "}),Object(_.jsx)("option",{value:"Chocolate",children:" Chocolates"}),Object(_.jsx)("option",{value:"Eggs",children:" Eggs "}),Object(_.jsx)("option",{value:"Milk",children:" Milk "}),Object(_.jsx)("option",{value:"Biscuit",children:" Biscuits"})]})]})]})}}]),c}(r.Component),E=c(10),M=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){var r;return Object(o.a)(this,c),(r=t.call(this,e)).handleInput=function(e){r.setState(Object(E.a)({},e.target.name,e.target.value))},r.createOrder=function(e){e.preventDefault();var t={name:r.state.name,email:r.state.email,address:r.state.address,cartItems:r.props.cartItems};r.props.createOrder(t)},r.state={name:"",email:"",address:"",showCheckout:!1},r}return Object(l.a)(c,[{key:"render",value:function(){var e=this,t=this.props.cartItems;return Object(_.jsxs)("div",{children:[0===t.length?Object(_.jsx)("div",{className:"cart cart-header",children:"Cart is empty "}):Object(_.jsxs)("div",{className:"cart cart-header",children:["You have ",t.length," in the cart",""," "]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"cart",children:Object(_.jsx)(m.a,{left:!0,cascade:!0,children:Object(_.jsx)("ul",{className:"cart-items",children:t.map((function(t){return Object(_.jsxs)("li",{children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:t.image,alt:t.title})}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:t.title}),Object(_.jsxs)("div",{className:"right",children:[h(t.price)," x ",t.count,"  ",Object(_.jsx)("button",{className:"button",onClick:function(){return e.props.removeFromCart(t)},children:"Remove"})]})]})]},t._id)}))})})}),0!==t.length&&Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"cart",children:Object(_.jsxs)("div",{className:"total",children:[Object(_.jsxs)("div",{children:["Total:"," ",h(t.reduce((function(e,t){return e+t.price*t.count}),0))]}),Object(_.jsx)("button",{onClick:function(){e.setState({showCheckout:!0})},className:"button primary",children:"Proceed"})]})}),this.state.showCheckout&&Object(_.jsx)(m.a,{right:!0,cascade:!0,children:Object(_.jsx)("div",{className:"cart",children:Object(_.jsx)("form",{onSubmit:this.createOrder,children:Object(_.jsxs)("ul",{className:"form-container",children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("lable",{children:"Email"}),Object(_.jsx)("input",{name:"email",type:"email",required:!0,onChange:this.handleInput})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("lable",{children:"Name"}),Object(_.jsx)("input",{name:"name",type:"text",required:!0,onChange:this.handleInput})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("lable",{children:"Address"}),Object(_.jsx)("input",{name:"address",type:"text",required:!0,onChange:this.handleInput})]}),Object(_.jsx)("li",{children:Object(_.jsx)("button",{className:"button primary",type:"submit",children:"Checkout"})})]})})})})]})]})]})}}]),c}(r.Component),P=c(6),w=c(29),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,T=Object(P.e)(Object(P.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{items:t.payload};default:return e}}}),{},D(Object(P.a)(w.a))),B=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(){var e;return Object(o.a)(this,c),(e=t.call(this)).createOrder=function(e){alert("Need to save order for "+e.name)},e.removeFromCart=function(t){var c=e.state.cartItems.slice();e.setState({cartItems:c.filter((function(e){return e._id!==t._id}))}),localStorage.setItem("cartItems",JSON.stringify(c.filter((function(e){return e._id!==t._id}))))},e.addToCart=function(t){var c=e.state.cartItems.slice(),r=!1;c.forEach((function(e){e._id===t._id&&(e.count++,r=!0)})),r||c.push(Object(n.a)(Object(n.a)({},t),{},{count:1})),e.setState({cartItems:c}),localStorage.setItem("cartItems",JSON.stringify(c))},e.sortProducts=function(t){var c=t.target.value;console.log(t.target.value),e.setState((function(t){return{sort:c,products:e.state.products.slice().sort((function(e,t){return"lowest"===c?e.price>t.price?1:-1:"highest"===c?e.price<t.price?1:-1:e._id>t._id?1:-1}))}}))},e.filterProducts=function(t){console.log(t.target.value),""===t.target.value?e.setState({size:t.target.value,products:u.products}):e.setState({size:t.target.value,products:u.products.filter((function(e){return e.Category.indexOf(t.target.value)>=0}))})},e.state={products:u.products,cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],size:"",sort:""},e}return Object(l.a)(c,[{key:"render",value:function(){return Object(_.jsx)(v.a,{store:T,children:Object(_.jsxs)("div",{className:"grid-container",children:[Object(_.jsx)("header",{children:Object(_.jsx)("a",{href:"/",children:"React Grocery Cart"})}),Object(_.jsx)("main",{children:Object(_.jsxs)("div",{className:"content",children:[Object(_.jsxs)("div",{className:"main",children:[Object(_.jsx)(S,{count:this.state.products.length,size:this.state.size,sort:this.state.sort,filterProducts:this.filterProducts,sortProducts:this.sortProducts}),Object(_.jsx)(I,{products:this.state.products,addToCart:this.addToCart})]}),Object(_.jsx)("div",{className:"sidebar",children:Object(_.jsx)(M,{cartItems:this.state.cartItems,removeFromCart:this.removeFromCart,createOrder:this.createOrder})})]})}),Object(_.jsx)("footer",{children:"All right is reserved"})]})})}}]),c}(s.a.Component);a.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(B,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.0d6f9e0a.chunk.js.map